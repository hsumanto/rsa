apply plugin: 'java'

dependencies {
    compile 'com.typesafe.akka:akka-actor_2.11:2.4.2',
        'com.typesafe.akka:akka-cluster_2.11:2.4.2',
        'com.typesafe.akka:akka-cluster-tools_2.11:2.4.2',
        'org.apache.tomcat:tomcat-catalina:7.0.47',
        'org.springframework:org.springframework.web:3.1.1.RELEASE',
        files('/usr/lib/gdal.jar'),
        project(':rsaquery'),
        project(':storagemanager')

    testCompile 'com.carrotsearch:junit-benchmarks:0.4.0',
        'org.springframework:org.springframework.test:3.1.1.RELEASE',
        sourceSets.main.output

    runtime files('../../config')

    testRuntime files('../../test-config')
}

tasks.withType(Test) {
    // Only run one test at a time, because many tests use the same datasets
    maxParallelForks = 1
}

jar {
    manifest {
        attributes("Implementation-Title": "spatialcubeservice")
    }
}
